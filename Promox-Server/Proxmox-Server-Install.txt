##Install Debian minimal (No DE, no standard or aditionnal packages, nothing)

#Partitioning :
--System Disk--
550 MB --> EFI Sytem
4G --> Swap
Left --> ext4 / (0% reserved block)

--Storage Disk--
All space --> ext4 /storage (0% reserved block)

##Log as root

#Static IP Address (create the DNS record on Pihole)
$ vi /etc/network/interfaces
[...]
iface enp0s3 inet static
        address 192.168.1.100/24
        gateway 192.168.1.254
        dns-nameservers 192.168.1.1

#Install sudo and put user in the sudo group
$ apt install sudo
$ usermod -aG sudo rcandau

#Create a VMs directory with regular user permission in /storage
$ mkdir -p /storage/VMs
$ chown rcandau: /storage/VMs

#Create a ISO directory with regular user permission in /storage
$ mkdir -p /storage/ISO
$ chown rcandau: /storage/ISO

#Reboot to apply all changes
$ reboot


##Log as regular user

#Update the machine and install usefull packages
$ sudo apt update && sudo apt full-upgrade
$ sudo apt install vim man bash-completion openssh-server mlocate htop curl chrony ksmtuned

#Download and edit my .bashrc
$ curl https://raw.githubusercontent.com/Antiz96/Linux-Customisation/master/Dotfiles/General/bashrc%20\(Debian-Ubuntu%20Based%20Distro%20SERVER%20-%20WSL\) -o ~/.bashrc
$ vim ~/.bashrc (delete all tmux part and flatpak in the fullupgrade alias)
$ source ~/.bashrc

##Install Proxmox
https://pve.proxmox.com/wiki/Install_Proxmox_VE_on_Debian_11_Bullseye
User Management Part : Create regular user in Datacenter --> Permissions --> User (Linux Pam authentication)
Linux Bridge Part : In Promox --> System --> Network, edit the actual network card and delete IP/Netmask and Gateway. Once done, create a new "Linux Bridge" card, add the IP/Netmask and Gateway and add the actual network card as the bridge port.
