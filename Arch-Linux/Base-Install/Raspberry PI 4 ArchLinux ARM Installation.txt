## Arch Linux ARM Install tutorial for RPI 4
https://archlinuxarm.org/platforms/armv8/broadcom/raspberry-pi-4

##Update the machine
$ pacman -Syy
$ pacman -Syu

##Activate the swap partition
$ mkswap /dev/mmcblk0p3
$ swapon /dev/mmcblk0p3
$ vi /etc/fstab
[...]
/dev/mmcblk0p3  none    swap    defaults        0       0

##Enabling root ssh connexion temporarely to modify the default "alarm" user
$ vi /etc/ssh/sshd_config
[...]
PermitRootLogin yes
[...]
$ reboot

##Connect directly as root to rename the default "alarm" user and set a new password
$ usermod -l rcandau alarm
$ groupmod -n rcandau alarm
$ usermod -d /home/rcandau -m rcandau
$ passwd rcandau

##Disabling root ssh connexion
$ vi /etc/ssh/sshd_config
[...]
#PermitRootLogin prohibit-password
[...]
$ reboot

##Then, I follow my Arch Linux Install Routine (without things that has already been done in the installation above like partitiong/filesystem, mount + pacstrap + genfstab, grub, exit and umount /mnt, etc... Also, I do not install the same drivers and same DE component as my main machine. See the pacman command I'm using for raspberry below.
https://github.com/Antiz96/Linux-Customisation/blob/master/Arch-Linux/Base-Install/Arch%20Linux%20Base%20Installation.txt
----------------------------------------------
##Additionnal useful packages, drivers and DE
$ sudo pacman -S $(curl https://raw.githubusercontent.com/Antiz96/Linux-Customisation/master/Arch-Linux/Packages/icewm-rpi-minimal-packages.txt)
----------------------------------------------

##Disable the systemd-resolved
$ sudo systemctl disable --now systemd-resolved
$ reboot

##Zip Archive containing IceWM conf for rapsberry :
$ mkdir -p ~/.icewm && curl https://raw.githubusercontent.com/Antiz96/Linux-Customisation/master/Dotfiles/IceWM/icewm-rpi.zip -O && unzip icewm-rpi.zip -d ~/.icewm/ && chmod +x ~/.icewm/startup && rm -f icewm-rpi.zip
