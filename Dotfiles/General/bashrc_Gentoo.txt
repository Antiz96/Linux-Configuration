#
# ~/.bashrc
#

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

##Prompt (RED when not running TMUX/Agnoster theme when running TMUX)##

TMUX_STATUS=$(env | grep tmux)

if [ -z "$TMUX_STATUS" ]; then
        PS1="\[\e[0;31m[\u@\h \W]\$ \e[m\]"
else
        export THEME=$HOME/.bash/themes/agnoster-bash/agnoster.bash
        if [ -f "$THEME" ]; then
                source $THEME
        fi
fi

##Tmux Autostart##

if [ -x "$(command -v tmux)" ] && [ -n "${DISPLAY}" ]; then
        [ -z "${TMUX}" ] && (tmux attach || tmux) >/dev/null 2>&1
fi

##ENV##

#Export Color
export Color="--color=auto"

#Export Editor
export EDITOR=/usr/bin/vim

#Export Lang for dmenu
export LC_CTYPE="fr_FR.UTF-8"

#Export Flatpak path
export PATH="$PATH:/var/lib/flatpak/exports/bin"

##Aliases##

#Listing Files
alias ls='ls $Color'
alias ll="ls -ltr"
alias l="ls -ltrA"

#Grep
alias grep='grep $Color'
alias egrep='egrep $Color'
alias fgrep='fgrep $Color'

#Manipulating Files
alias mv="mv -i"
alias cp="cp -i"
alias ln="ln -i"
alias rm="rm -i"

#Edit
alias vi="vim"

#Package Manager
alias update="sudo emerge --sync"
alias upgrade="sudo emerge -avuDN --with-bdeps=y @world"
alias fullupgrade="sudo emerge --sync && sudo emerge -avuDN --with-bdeps=y @world && flatpak update"
alias install="sudo emerge -av"
alias remove="sudo emerge -aC"
alias search="emerge -s"
alias package="qlist -I"
alias cleanorphans="sudo emerge -ac"

#Tmux
alias tkill="tmux kill-session -t"
alias tswitch="tmux a -t"

#Sudoers
alias sudo="sudo "

#Others
alias install_bluetooth_driver="~/Documents/scripts/install_bluetooth_driver.sh"
alias repair_bluetooth="~/Documents/scripts/repair_bluetooth.sh"
